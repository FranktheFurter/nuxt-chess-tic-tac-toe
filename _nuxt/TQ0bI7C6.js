import{_ as $,n as S,o as i,c as u,q as f,t as P,s as O,F as M,u as B,v as F,a as C,r as p,x as I,b}from"./BDDdqBXF.js";const g="P",x="R",T="B",E="N",N="Q",v="WHITE",k="BLACK",Q=Array(3).fill().map(()=>Array(3).fill(null)),j={[v]:{[g]:2,[x]:2,[T]:2,[E]:2,[N]:1},[k]:{[g]:2,[x]:2,[T]:2,[E]:2,[N]:1}},q=S({props:["cell","isSelected"],setup(){return{WHITE:v}}});function w(e,t,c,l,d,s){return i(),u("div",{class:f(["w-20 h-20 border border-gray-400 flex items-center justify-center cursor-pointer",{"bg-yellow-200":e.isSelected}]),onClick:t[0]||(t[0]=o=>e.$emit("click"))},[e.cell?(i(),u("div",{key:0,class:f(`text-3xl ${e.cell.color===e.WHITE?"text-blue-500":"text-red-500"}`)},P(e.cell.piece),3)):O("",!0)],2)}const K=$(q,[["render",w]]),z=S({components:{Cell:K},props:["board","selectedCell","currentPlayer"],emits:["cell-click"],setup(e){return{isSelectedCell:(c,l)=>e.selectedCell&&e.selectedCell[0]===c&&e.selectedCell[1]===l}}}),R={class:"mb-4"};function U(e,t,c,l,d,s){const o=K;return i(),u("div",R,[(i(!0),u(M,null,B(e.board,(n,r)=>(i(),u("div",{key:r,class:"flex"},[(i(!0),u(M,null,B(n,(h,_)=>(i(),F(o,{key:_,cell:h,isSelected:e.isSelectedCell(r,_),onClick:W=>e.$emit("cell-click",r,_)},null,8,["cell","isSelected","onClick"]))),128))]))),128))])}const V=$(z,[["render",U]]),J=S({props:["playerPieces","selectedPiece","currentPlayer","mode"],emits:["select-piece"],setup(){return{WHITE:v}}}),X={class:"flex mb-4"},Y=["onClick","disabled"];function Z(e,t,c,l,d,s){return i(),u("div",X,[(i(!0),u(M,null,B(e.playerPieces,(o,n)=>(i(),u("button",{key:n,class:f(["m-1 p-2 border",{"bg-blue-200":e.selectedPiece===n,"opacity-50 cursor-not-allowed":o===0||e.mode==="move"}]),onClick:r=>e.$emit("select-piece",n),disabled:o===0||e.mode==="move"},[C("div",{class:f(`text-2xl ${e.currentPlayer===e.WHITE?"text-blue-500":"text-red-500"}`)},P(n),3),C("div",null,P(o),1)],10,Y))),128))])}const D=$(J,[["render",Z]]),ee=S({props:["mode"],emits:["set-mode"]}),le={class:"flex mb-4"};function te(e,t,c,l,d,s){return i(),u("div",le,[C("button",{class:f(["mx-2 p-2 border",{"bg-green-200":e.mode==="place"}]),onClick:t[0]||(t[0]=o=>e.$emit("set-mode","place"))}," Place Mode ",2),C("button",{class:f(["mx-2 p-2 border",{"bg-green-200":e.mode==="move"}]),onClick:t[1]||(t[1]=o=>e.$emit("set-mode","move"))}," Move Mode ",2)])}const G=$(ee,[["render",te]]);function ne(e,t,c){const[l,d]=e,[s,o]=t,n=Math.abs(s-l),r=Math.abs(o-d);switch(c){case g:return n===1&&r===0;case x:return n===0&&r>0||r===0&&n>0;case T:return n===r;case E:return n===2&&r===1||n===1&&r===2;case N:return n===0&&r>0||r===0&&n>0||n===r;default:return!1}}function ce(e){var c,l;const t=[[[0,0],[0,1],[0,2]],[[1,0],[1,1],[1,2]],[[2,0],[2,1],[2,2]],[[0,0],[1,0],[2,0]],[[0,1],[1,1],[2,1]],[[0,2],[1,2],[2,2]],[[0,0],[1,1],[2,2]],[[0,2],[1,1],[2,0]]];for(let d of t){const[s,o,n]=d;if(e[s[0]][s[1]]&&e[s[0]][s[1]].color===((c=e[o[0]][o[1]])==null?void 0:c.color)&&e[s[0]][s[1]].color===((l=e[n[0]][n[1]])==null?void 0:l.color))return e[s[0]][s[1]].color}return null}const oe={components:{Board:V,PieceSelector:D,ModeSelector:G},setup(){const e=p(Q),t=p(v),c=p(null),l=p(null),d=I(j),s=p(null),o=p("place");function n(a,m){e.value[a][m]===null&&c.value&&d[t.value][c.value]>0&&(e.value[a][m]={piece:c.value,color:t.value},d[t.value][c.value]--,c.value=null,_(),t.value=t.value===v?k:v)}function r(a,m,H,A){const y=e.value[a][m];y&&y.color===t.value&&ne([a,m],[H,A],y.piece)&&(e.value[H][A]=y,e.value[a][m]=null,l.value=null,_(),t.value=t.value===v?k:v)}function h(a,m){o.value==="place"?n(a,m):o.value==="move"&&(l.value?r(l.value[0],l.value[1],a,m):e.value[a][m]&&e.value[a][m].color===t.value&&(l.value=[a,m]))}function _(){s.value=ce(e.value)}function W(a){c.value=a}function L(a){o.value=a}return{board:e,currentPlayer:t,selectedPiece:c,selectedCell:l,playerPieces:d,winner:s,mode:o,WHITE:v,BLACK:k,handleCellClick:h,setSelectedPiece:W,setMode:L}}},se={class:"flex flex-col items-center"},re={key:0,class:"text-xl font-bold mb-4"},ae={key:1,class:"text-xl mb-4"};function ie(e,t,c,l,d,s){const o=V,n=D,r=G;return i(),u("div",se,[l.winner?(i(),u("div",re,P(l.winner)+" wins!",1)):(i(),u("div",ae,P(l.currentPlayer)+"'s turn",1)),b(o,{board:l.board,selectedCell:l.selectedCell,currentPlayer:l.currentPlayer,onCellClick:l.handleCellClick},null,8,["board","selectedCell","currentPlayer","onCellClick"]),b(n,{playerPieces:l.playerPieces[l.currentPlayer],selectedPiece:l.selectedPiece,currentPlayer:l.currentPlayer,mode:l.mode,onSelectPiece:l.setSelectedPiece},null,8,["playerPieces","selectedPiece","currentPlayer","mode","onSelectPiece"]),b(r,{mode:l.mode,onSetMode:l.setMode},null,8,["mode","onSetMode"])])}const ue=$(oe,[["render",ie]]),de=C("h2",{class:"text-center p-8"},"Chess Tic Tac Toe Game",-1),ve={__name:"game",setup(e){return(t,c)=>(i(),u("div",null,[de,b(ue)]))}};export{ve as default};
