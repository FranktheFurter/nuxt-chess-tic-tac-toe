import{_ as g,o as i,c as o,t as m,a as d,F as f,n as y,q as b,s as M,b as T}from"./B2YOJl-Y.js";const p="P",v="R",C="B",x="N",k="Q",u="WHITE",P="BLACK",B=Array(3).fill().map(()=>Array(3).fill(null)),W={[u]:{[p]:2,[v]:2,[C]:2,[x]:2,[k]:1},[P]:{[p]:2,[v]:2,[C]:2,[x]:2,[k]:1}},E={data(){return{board:B,currentPlayer:u,selectedPiece:null,selectedCell:null,playerPieces:W,winner:null,mode:"place",WHITE:u,BLACK:P}},methods:{isValidMove(t,s,n){const[h,e]=t,[a,c]=s,l=Math.abs(a-h),r=Math.abs(c-e);switch(n){case p:return l===1&&r===0;case v:return l===0&&r>0||r===0&&l>0;case C:return l===r;case x:return l===2&&r===1||l===1&&r===2;case k:return l===0&&r>0||r===0&&l>0||l===r;default:return!1}},placePiece(t,s){this.board[t][s]===null&&this.selectedPiece&&this.playerPieces[this.currentPlayer][this.selectedPiece]>0&&(this.board[t][s]={piece:this.selectedPiece,color:this.currentPlayer},this.playerPieces[this.currentPlayer][this.selectedPiece]--,this.selectedPiece=null,this.checkWin(),this.currentPlayer=this.currentPlayer===u?P:u)},movePiece(t,s,n,h){const e=this.board[t][s];e&&e.color===this.currentPlayer&&this.isValidMove([t,s],[n,h],e.piece)&&(this.board[n][h]=e,this.board[t][s]=null,this.selectedCell=null,this.checkWin(),this.currentPlayer=this.currentPlayer===u?P:u)},handleCellClick(t,s){this.mode==="place"?this.placePiece(t,s):this.mode==="move"&&(this.selectedCell?this.movePiece(this.selectedCell[0],this.selectedCell[1],t,s):this.board[t][s]&&this.board[t][s].color===this.currentPlayer&&(this.selectedCell=[t,s]))},checkWin(){var s,n;const t=[[[0,0],[0,1],[0,2]],[[1,0],[1,1],[1,2]],[[2,0],[2,1],[2,2]],[[0,0],[1,0],[2,0]],[[0,1],[1,1],[2,1]],[[0,2],[1,2],[2,2]],[[0,0],[1,1],[2,2]],[[0,2],[1,1],[2,0]]];for(let h of t){const[e,a,c]=h;if(this.board[e[0]][e[1]]&&this.board[e[0]][e[1]].color===((s=this.board[a[0]][a[1]])==null?void 0:s.color)&&this.board[e[0]][e[1]].color===((n=this.board[c[0]][c[1]])==null?void 0:n.color)){this.winner=this.board[e[0]][e[1]].color;return}}},setSelectedPiece(t){this.selectedPiece=t},setMode(t){this.mode=t}}},N={class:"flex flex-col items-center"},H={key:0,class:"text-xl font-bold mb-4"},A={key:1,class:"text-xl mb-4"},V={class:"mb-4"},K=["onClick"],S={class:"flex mb-4"},D=["onClick","disabled"],L={class:"flex mb-4"};function O(t,s,n,h,e,a){return i(),o("div",N,[e.winner?(i(),o("div",H,m(e.winner)+" wins!",1)):(i(),o("div",A,m(e.currentPlayer)+"'s turn",1)),d("div",V,[(i(!0),o(f,null,y(e.board,(c,l)=>(i(),o("div",{key:l,class:"flex"},[(i(!0),o(f,null,y(c,(r,_)=>(i(),o("div",{key:_,class:b(["w-20 h-20 border border-gray-400 flex items-center justify-center cursor-pointer",{"bg-yellow-200":e.selectedCell&&e.selectedCell[0]===l&&e.selectedCell[1]===_}]),onClick:G=>a.handleCellClick(l,_)},[r?(i(),o("div",{key:0,class:b(`text-3xl ${r.color===e.WHITE?"text-blue-500":"text-red-500"}`)},m(r.piece),3)):M("",!0)],10,K))),128))]))),128))]),d("div",S,[(i(!0),o(f,null,y(e.playerPieces[e.currentPlayer],(c,l)=>(i(),o("button",{key:l,class:b(["m-1 p-2 border",{"bg-blue-200":e.selectedPiece===l,"opacity-50 cursor-not-allowed":c===0||e.mode==="move"}]),onClick:r=>a.setSelectedPiece(l),disabled:c===0||e.mode==="move"},[d("div",{class:b(`text-2xl ${e.currentPlayer===e.WHITE?"text-blue-500":"text-red-500"}`)},m(l),3),d("div",null,m(c),1)],10,D))),128))]),d("div",L,[d("button",{class:b(["mx-2 p-2 border",{"bg-green-200":e.mode==="place"}]),onClick:s[0]||(s[0]=c=>a.setMode("place"))}," Place Mode ",2),d("button",{class:b(["mx-2 p-2 border",{"bg-green-200":e.mode==="move"}]),onClick:s[1]||(s[1]=c=>a.setMode("move"))}," Move Mode ",2)])])}const w=g(E,[["render",O]]),F=d("h2",{class:"text-center p-8"},"Chess Tic Tac Toe Game",-1),Q={__name:"game",setup(t){return(s,n)=>(i(),o("div",null,[F,T(w)]))}};export{Q as default};
